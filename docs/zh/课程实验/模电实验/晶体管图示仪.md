---
title: 写在前面
date: '2022-09-01 19:27'
---

# 简易晶体管图示仪的设计与实现

[TOC]



> **摘要：**
>
> 双极型晶体管特性曲线即管子各电极电压与电流的关系曲线，是管子内部载流子运动的外部表现，反映了晶体管的性能，是分析放大电路的依据。其中输出特性曲线是指当基极电流$I_B$为常数时，输出电路(集电极电路)中集电极电流$I_C$与集-射极电压$U_{CE}$之间的关系曲线$I_C=f(U_{CE})$，如graph1所示。对该曲线的研究，可以直观地分析管子的工作状态，合理地选择偏置电路的参数，设计出性能良好的电路。
>
> 本报告针对应用最广泛的共射级接法的特性曲线，分析并探讨了晶体管图示仪的设计方法，以及需要解决的关键问题，且最终成功较好地复现。
>
> **关键词：**
>
> 双极型晶体管、NPN、共射、输出特性曲线

![image-20220902150812408](./%E6%99%B6%E4%BD%93%E7%AE%A1%E5%9B%BE%E7%A4%BA%E4%BB%AA.assets/image-20220902150812408.png)
$$
graph1 \notag
$$

## 设计任务要求

* 基本要求：
  * 设计一个阶梯波发生器，$f≥500Hz，U_{opp}≥3V，阶数N=6$
  * 设计一个三角波发生器，三角波$U_{opp}≥2V$
  * 设计保护电路，实现对三极管输出特性的测试
* 提高要求：
  * 可以识别NPN，PNP管，并正确测试不同性质的三极管
  * 设计阶数可调的阶梯波发生器

## 设计思路

我们按照自顶向下的原则，假设现有一个NPN管，如何在示波器上显示输出特性曲线？思考输出特性曲线的**横坐标是$U_{CE}$，纵坐标是$I_C$**，所以示波器的一个通道应该测量三极管的集电极，而电流参数$I_C$可以通过$\frac {U_E}{R_E}$来表征，所以可以在发射极接一个小电阻（约200Ω）、示波器探头测发射极。

在$I_B$为定值的情况下，从$graph1$可以看到自变量$U_{CE}$从零不断增大，所以在集电极应接入一个幅值由低到高线性变化且连续的信号——锯齿波、三角波较为复合。

针对输出特性曲线中含有多个（一般给出6个）不同的$I_B$值，我们需要在三极管基极接入一个幅值由低到高跳变6次且不连续的信号——6阶的阶梯波正好满足需要。

设计具体的电路首先考虑电源的选择。考虑到电脑USB口的供电最大是5V，使用口袋仪器测量时最大供电也只能是5V，所以设计采用5V供电。

根据所学知识，方波积分可以产生三角波，这是容易想到的；如何产生阶梯波呢？可能会想到方波经过不同通道的分压再叠加这样一种电路来实现，但是这有一个问题，电压值相互叠加很可能超过电源电压（采用5V），**如果能限定最大值是（或接近）5V就好了。**

现在可使用的器件有NE555、双运放芯片、计数器芯片和单刀八掷开关芯片，其中NE555基本上是固定用法，作为方波产生电路；运放芯片用作积分器；剩下计数器和开关，我们可以这样：**5V通过6个电阻串联分压**，如$graph2$，得到6个电压值，然后分别送入单刀八掷开关芯片的6个输入端，通过A0、A1、A2地址选择端，控制依次输出D1\~D6；计数器作分频器控，制信号由方波经过分频器产生，分频器有三个输出，从000\~111依次变化（可以看到有2个节拍由于开关芯片没有输入所以输出是0）。最后开关芯片的输出就是6阶的阶梯波了。

<img src="./%E6%99%B6%E4%BD%93%E7%AE%A1%E5%9B%BE%E7%A4%BA%E4%BB%AA.assets/image-20220902165856607.png" alt="image-20220902165856607" style="zoom:50%;" />
$$
graph2 \notag
$$

## 总体结构框图

![框图](./%E6%99%B6%E4%BD%93%E7%AE%A1%E5%9B%BE%E7%A4%BA%E4%BB%AA.assets/%E6%A1%86%E5%9B%BE.png)

```mermaid
graph LR
	k1(["方波发生电路（核心NE555）"])
	k2(["三角波发生电路（核心LF353）"])
    k3(["阶梯波发生电路（核心74LS169、CD4051）"])
    k4(["晶体管测试电路（核心NPN三极管、示波器）"])
    k1 --> k2 --> k4
    k1 --> k3 --> k4
```

## 分块电路和总体电路的设计

### 方波产生电路

NE555的接法（用法）一般有三种：单稳态、无稳态、双稳态。产生方波需使用无稳态接法，如$graph3$。

> **无稳态：**指没有稳定的状态，既不稳定于高电平，也不稳定于低电平，而是高低电平依次跳变。

![无稳态](./%E6%99%B6%E4%BD%93%E7%AE%A1%E5%9B%BE%E7%A4%BA%E4%BB%AA.assets/%E6%97%A0%E7%A8%B3%E6%80%81-16621764242312.png)
$$
graph3 \notag
$$
考虑到后级电路会接运放，需确定频率。

**控制输出频率：**
$$
f=\frac {1}{ln2·C·(R1+2R2)}
$$
查阅LF353的手册，可知其压摆率典型值为13V/us，供电±5V时最大输出幅度与频率的关系如$graph4$。

![image-20220903121507039](./%E6%99%B6%E4%BD%93%E7%AE%A1%E5%9B%BE%E7%A4%BA%E4%BB%AA.assets/image-20220903121507039.png)

![image-20220903121700673](./%E6%99%B6%E4%BD%93%E7%AE%A1%E5%9B%BE%E7%A4%BA%E4%BB%AA.assets/image-20220903121700673.png)
$$
graph4 \notag
$$
对一个正弦波来说，其最大变化速率发生在过零点处，且与输出信号幅度、频率有关。

设输出正弦波幅度为$A_m$，频率为$f_{out}$，过零点变化速率为$D_V$，则
$$
𝐷_𝑉=2π𝐴_𝑚𝑓_{out}
$$


要想输出完美的正弦波，则正弦波过零点变化速率必须小于运放的压摆率。即
$$
SR>𝐷_𝑉=2𝜋𝐴_𝑚𝑓_{out}
$$
假设工作频率为10kHz，则据$graph4$可知输出峰值约4.5V，$D_V=2*π*4.5*10k≈282.6k$，又SR=1300kV/s（注意单位），显然$SR>>D_V$，且可以看到50k以下的频率都不会越过压摆率的限制。由此可以确定（1）式中的参数。可选择C=1200pF、R1=1k、R2=50k，理论算出频率约8.33kHz。

>**备注**
>
>实物搭设电路时，对这几个参数作微小的变动是可能的。

### 三角波产生电路

三角波由方波积分产生。基本积分电路：

![image-20220903132911860](./%E6%99%B6%E4%BD%93%E7%AE%A1%E5%9B%BE%E7%A4%BA%E4%BB%AA.assets/image-20220903132911860.png)
$$
v_o=-\frac{1}{RC} \int_0^t {v_1(t)dt} + v_o(t)
$$

> **备注**
>
> 实际电路应在电容上并联一电阻，一般取10k左右即可。
>
> 实际的积分器由于运算放大器难免会存在偏置电压，尽管偏置电压很低，还是会对电容进行充放电，时间一长，电容就饱和了。并联电阻的目的就是为了使给电容提供放电回路，不要饱和。

根据前文所述，晶体管集电极需接入**正**的三角波，而方波经过该积分电路是**负的**，所以需再经过一级反相放大。

基本反相放大器：

![image-20220903133803291](./%E6%99%B6%E4%BD%93%E7%AE%A1%E5%9B%BE%E7%A4%BA%E4%BB%AA.assets/image-20220903133803291.png)
$$
v_o=-\frac {R_F}{R_1}v_I
$$
还可以根据积分器的输出适当引入偏置，使反相放大器的输出从零开始增加，即从+VCC引出一条导线，串联合适的电阻$R0$，再接入反向输入端。

调节放大倍数使输出幅值接近4.5V（参考$graph4$）。$R_1$取10k，在仿真中反复调节$R0、R_F$，最终$R_F$取100k、$R0$取21k较为合适。电路如$graph5$。

![image-20220903172252108](./%E6%99%B6%E4%BD%93%E7%AE%A1%E5%9B%BE%E7%A4%BA%E4%BB%AA.assets/image-20220903172252108.png)
$$
graph5 \notag
$$

### 阶梯波产生电路

对于阶梯波发生器的设计思路，前文已有阐述，此处不再赘述。需要注意的是仿真中没有CD4051的模型，可用ADG408代替，实物连接时应根据CD4051的数据手册中给出的封装引脚图。电路如$graph6$。

![image-20220903173830369](./%E6%99%B6%E4%BD%93%E7%AE%A1%E5%9B%BE%E7%A4%BA%E4%BB%AA.assets/image-20220903173830369.png)
$$
graph6 \notag
$$

### 晶体管测试电路

据前文所述，三角波接入集电极，阶梯波接入基极。电路如$graph7$。

![image-20220903174853523](./%E6%99%B6%E4%BD%93%E7%AE%A1%E5%9B%BE%E7%A4%BA%E4%BB%AA.assets/image-20220903174853523.png)
$$
graph7 \notag
$$
可以看到基极串联了一个较大的电阻（100kΩ），这是因为$I_B$都是几十μA级的，而阶梯波的幅度为0~4.5V，需接入较大的电阻。

然后集电极接示波器A通道，发射极接B通道，示波器设置为B/A即可。

### 总体电路

针对该系统，前后级电路直接耦合即可。

另外，在各芯片电源引脚与地之间并联两个电容（一般0.1μF/10μF），即旁路电容，对电源去耦，使高频噪声接地，可一定程度上提高系统的稳定性。

![image-20220903175502184](./%E6%99%B6%E4%BD%93%E7%AE%A1%E5%9B%BE%E7%A4%BA%E4%BB%AA.assets/image-20220903175502184.png)
$$
graph8 \notag
$$


### 所实现功能说明

* **设计一个阶梯波发生器，$f≥500Hz，U_{opp}≥3V，阶数N=6$**

  测试时先测量74LS169的三个输出端口，即$graph8$中的$QA、QB、QC$端口，看是否为三种频率的方波，且相互为二倍频；否则说明电路有误。

  若上述过程无误，测试过程中发现阶数小于6，可能是$graph8$中的$R7、R11 - R15$中某个或多个被短路，注意检查这六个电阻有无短路。

  若发现阶梯波下降沿较慢，可适当降低工作频率，即增大$graph8$中的$R1、R2或C2$。

  * 使用口袋仪器测量：

    ![image-20220903184541902](./%E6%99%B6%E4%BD%93%E7%AE%A1%E5%9B%BE%E7%A4%BA%E4%BB%AA.assets/image-20220903184541902.png)

    $f=591.3Hz，U_{opp}=4.3V,阶数N=6$，满足要求

  * 使用实验室仪器测量：

    ![image-20220903184844968](./%E6%99%B6%E4%BD%93%E7%AE%A1%E5%9B%BE%E7%A4%BA%E4%BB%AA.assets/image-20220903184844968.png)

    $T=4.2*400μs=1680μs，f=595.2Hz，U_{opp}=4.2V，阶数N=6$，满足要求。

* **设计一个三角波发生器，三角波$U_{opp}≥2V$**

  先测试第一片运放的输出端口，即$graph8$中的U4A的1脚，看是否有基本的三角波形状；否则，主要调节$C3$。

  若上述过程无误，测量U3B的7脚，看是否为包含0V、峰峰值超过2V的三角波。若峰峰值太小，则增大$R8$，增加放大倍数，且根据实验观察这时一般伴随着偏置电压的调节，即调节$R9$。

  * 使用口袋仪器测量：

    ![image-20220903195318300](./%E6%99%B6%E4%BD%93%E7%AE%A1%E5%9B%BE%E7%A4%BA%E4%BB%AA.assets/image-20220903195318300.png)

    $U_{opp}=4V$，满足要求。

  * 使用实验室仪器测量：

    ![image-20220903195725455](./%E6%99%B6%E4%BD%93%E7%AE%A1%E5%9B%BE%E7%A4%BA%E4%BB%AA.assets/image-20220903195725455.png)

    $U_{opp}=3.8V$，满足要求。

* **设计保护电路，实现对三极管输出特性的测试**

  可在放大器的输出引脚通过±5V的稳压管接地，以保护芯片。

  连接好示波器后，可适当调节$R17、R18$，使输出特性曲线更加美观。

  * 使用口袋仪器测量：

    ![image-20220903202253252](./%E6%99%B6%E4%BD%93%E7%AE%A1%E5%9B%BE%E7%A4%BA%E4%BB%AA.assets/image-20220903202253252.png)

  * 使用实验室仪器测量：

    ![image-20220903202410180](./%E6%99%B6%E4%BD%93%E7%AE%A1%E5%9B%BE%E7%A4%BA%E4%BB%AA.assets/image-20220903202410180.png)

    

## Multisim绘制的原理图和仿真图

原理图见$graph8$。

仿真图：

### 方波信号

![image-20220903202837357](./%E6%99%B6%E4%BD%93%E7%AE%A1%E5%9B%BE%E7%A4%BA%E4%BB%AA.assets/image-20220903202837357.png)

### 阶梯波信号，$U_{opp}≥3V,f≥500Hz$

![image-20220903202947630](./%E6%99%B6%E4%BD%93%E7%AE%A1%E5%9B%BE%E7%A4%BA%E4%BB%AA.assets/image-20220903202947630.png)

### 三角波信号，$U_{opp}$≥2V

![image-20220903203034090](./%E6%99%B6%E4%BD%93%E7%AE%A1%E5%9B%BE%E7%A4%BA%E4%BB%AA.assets/image-20220903203034090.png)

### 输出特性曲线

![image-20220903203051598](./%E6%99%B6%E4%BD%93%E7%AE%A1%E5%9B%BE%E7%A4%BA%E4%BB%AA.assets/image-20220903203051598.png)

## 所用元器件及测试仪表清单

|   元器件或测试仪   | 数量 |             备注             |
| :----------------: | :--: | :--------------------------: |
|       NE555        |  1   |                              |
|       LF353        |  1   |                              |
|      74LS169N      |  1   |                              |
|       CD4051       |  1   |                              |
|        电阻        |  18  |                              |
|        电容        |  9   | 包括原理图中未画出的去耦电容 |
|       S8050        |  1   |                              |
| Analog Discovery 2 |  1   |   口袋仪器，用于在寝室调试   |
|       示波器       |  1   |          实验室仪器          |
|        电源        |  1   |          实验室仪器          |

## 参考文献

[1]刘宝玲.电子电路基础及通信电子电路学习指导书[M].北京:高等教育出版社,2009:225.

[2]杨建国.你好，放大器[M].北京:科学出版社,2014:114.
